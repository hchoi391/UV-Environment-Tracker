http://os.mbed.com/users/Armand/code/Stepper/#82951e628d6a3f38942ae1d1a2c0127ef12534d1